<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SONODA HELP</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"> <!-- √çcones -->
    <link rel="stylesheet" href="../Style/Style.css">  
    <link rel="stylesheet" href="../Style/Responsive.css"> 
    <link rel="stylesheet" href="../JavaScript/index.js">   
    <script src="../Login/login.js" defer></script> 
    <link rel="icon" href="../adress/a.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"> 
    <style> 
        /* Estilo para a aba ativa */
    </style>
</head>
<body> 
    
    <!-- Header -->
    <div class="header d-flex justify-content-between align-items-center">
        <div class="logo">
            <h4 class="m-0">
                <img src="../adress/Sonoda Ponto.ico" alt="logo">  <span class="text-primary">SONODA HELP</span>
            </h4>
        </div>
        <div>
            <span><strong></strong> | <span class="tec-alexandre">Tec Alexandre</span></span>
        </div>
    </div>

    <div class="d-flex">
        <!-- Sidebar -->
        <div class="sidebar p-3" style="position: relative;">
            <ul class="nav flex-column">
                <li class="nav-item"><a href="../index.html" class="nav-link active"><i class="fas fa-home"></i>Home</a></li> 
                <li class="nav-item">
                    <a href="#" class="nav-link" id="video-link" onclick="toggleMenu('video')"><i class="fas fa-video"></i> V√≠deo <i class="fas fa-chevron-down" id="video-arrow"></i></a>
                    <ul id="video-submenu" class="nav flex-column" style="display: none;">
                        <li class="nav-item"><a href="../Videos/Videos_OFF.html" class="nav-link">Ponto OFF</a></li>
                        <li class="nav-item"><a href="../Videos/Video_Web.html" class="nav-link">Ponto WEB</a></li>
                        <li class="nav-item"><a href="../Videos/Videos_AcadAcesso.html" class="nav-link">Academia / Acesso</a></li>
                    </ul>
                </li> 
                <li class="nav-item">
                    <a href="#" class="nav-link" id="relogios-link" onclick="toggleMenu('relogios')"><i class="fas fa-clock"></i> Rel√≥gios <i class="fas fa-chevron-down" id="relogios-arrow"></i></a>
                    <ul id="relogios-submenu" class="nav flex-column" style="display: none;">
                        <li class="nav-item"><a href="../Rep/Control_id.html" class="nav-link">Control ID</a></li>
                        <li class="nav-item"><a href="../Rep/Smartpoint.html" class="nav-link">Smart Point</a></li>
                        <li class="nav-item"><a href="../Rep/Miniprint.html" class="nav-link">Miniprint</a></li> 
                        <li class="nav-item"><a href="../Rep/Printpoint2.html" class="nav-link">PrintPoint 2</a></li>
                        <li class="nav-item"><a href="../Rep/Printpoint3.html" class="nav-link">PrintPoint 3</a></li>
                    </ul>
                </li> 
                <li class="nav-item"><a href="../Sidebar/Resolu√ßao.html" class="nav-link"><i class="fas fa-lightbulb"></i> Resolu√ß√µes</a></li>
                <li class="nav-item"><a href="../Sidebar/calculadora.html" class="nav-link"><i class="fas fa-calculator"></i> Calculadora</a></li> 
                <li class="nav-item"><a href="https://sonodaponto.com.br/pis/" target="_blank" class="nav-link"><i class="fas fa-file-alt"></i> Gerar PIS</a></li> 
            </ul>
            
            <!-- "Mensagens " fixado na parte inferior da sidebar -->
            <div class="position-absolute" style="bottom: 5px; margin-right: -5px;">
                <ul class="nav flex-column">
                    <li class="nav-item"><a href="../Sidebar/Mensagens.html" class="nav-link"><i class="fas fa-comment"></i> Mensagens </a></li>
                </ul>
            </div>
        </div>

<!-- Main Content -->
<div class="content container-fluid">
    <h5 class="font-weight-bold">Mensagens </h5><br>
        <ul class="nav nav-tabs mb-4">
            <li class="nav-item">
                <a class="nav-link" href="#" id="mens_chamado" onclick="reloadPage('Chamado')">CHAMADO</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" id="mens_vendedor" onclick="reloadPage('Vendedor')">VENDEDOR / PROPOSTAS</a>
            </li>
        </ul>
    
    <!-- Campo de busca -->
    <div class="d-flex justify-content-center mb-4">
        <input type="text" class="form-control w-50" id="search-input" placeholder="Buscar...">
        <button class="btn btn-primary ml-2" onclick="searchContent()">
            <i class="fas fa-search"></i>
        </button>
    </div>
    
    <div class="tab-content">
        <div id="Chamado" class="tab-pane active">
            <div class="command-list" id="ChamadoContent">
                <div class="command-item">
                    <span><strong>INICIO: </strong> Ol√°, tudo bem, Aqui √© o Alexandre, como posso te ajudar? :)</span>
                    <button class="btn btn-primary btn-sm" onclick="copyText('Ol√°, tudo bem, Aqui √© o Alexandre, como posso te ajudar? :)', this)">
                        <i class="fas fa-copy copy-icon"></i>
                    </button>
                </div> 
                <div class="command-item">
                    <span><strong>ALMO√áO: </strong>Estou em meu intervalo de almo√ßo, mas assim que retornar, respondo sua mensagem. Fique tranquilo, logo volto para te ajudar! </span>
                    <button class="btn btn-primary btn-sm" onclick="copyText('Estou em meu intervalo de almo√ßo, mas assim que retornar, respondo sua mensagem. Fique tranquilo, logo volto para te ajudar!', this)">
                        <i class="fas fa-copy copy-icon"></i>
                    </button>
                </div>
            </div>  
            <div class="command-item">
                <span><strong>FINALIZANDO: </strong> Posso estar te auxiliando em mais alguma duvida ? </span>
                <button class="btn btn-primary btn-sm" onclick="copyText('Posso estar te auxiliando em mais alguma duvida ?', this)">
                    <i class="fas fa-copy copy-icon"></i>
                </button>
            </div>   
            <div class="command-item">
                <span><strong>FINALIZADO: </strong> Certo, estarei finalizando esse chamado. At√© a Pr√≥xima üòâ  </span>
                <button class="btn btn-primary btn-sm" onclick="copyText('Certo, estarei finalizado esse chamado. At√© a Pr√≥xima üòâ', this)">
                    <i class="fas fa-copy copy-icon"></i>
                </button>
            </div>          
            <div class="command-list" id="ChamadoContent">
                <div class="command-item">
                    <span><strong>FIM DO EXPEDIENTE: </strong> Meu expediente chegou ao fim, e por falta de comunica√ß√£o estarei encerrando esse chamado. Caso seja necess√°rio pode abrir outro chamado  </span>
                    <button class="btn btn-primary btn-sm" onclick="copyText('Meu expediente chegou ao fim, e por falta de comunica√ß√£o estarei encerrando esse chamado. Caso seja necess√°rio pode abrir outro chamado', this)">
                        <i class="fas fa-copy copy-icon"></i>
                    </button>
                </div>
            </div>
        </div>
        <br><div id="Vendedor" class="tab-pane"> 
            <h5 class="font-weight-bold">ADICIONAL</h5><br>
            <div class="command-item" style="display: flex; flex-direction: column; align-items: flex-start; margin: 0; padding: 15px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid transparent; border-image: linear-gradient(to right, #050C9C, #3572EF, #3ABEF9, #A7E6FF) 1;">
                <span style="margin: 5px 0; font-size: 16px; color: #007bff;">
                    <strong>ADICIONAL DE <input type="number" id="numFuncionarios" placeholder="" style="width: 60px; text-align: center; border: 2px solid transparent; border-radius: 0; padding: 5px; font-size: 14px; border-image: linear-gradient(to right, #050C9C, #3572EF, #3ABEF9, #A7E6FF) 1;">
                    FUNCION√ÅRIOS</strong>
                </span>
                <span style="margin: 5px 0; font-size: 16px; color: #007bff;">
                    <strong>VALOR ATUAL R$ 
                        <input type="number" id="valorAtual" value="" style="width: 120px; text-align: center; border: 2px solid transparent; border-radius: 0; padding: 5px; font-size: 14px; border-image: linear-gradient(to right, #050C9C, #3572EF, #3ABEF9, #A7E6FF) 1;" step="0.01" oninput="calcularValorFinal()">
                    </strong>
                </span>
                <span style="margin: 5px 0; font-size: 16px; color: #007bff;">
                    <strong>COM ACR√âSCIMO DE R$ 
                        <input type="number" id="acrescimoMensal" value="" style="width: 120px; text-align: center; border: 2px solid transparent; border-radius: 0; padding: 5px; font-size: 14px; border-image: linear-gradient(to right, #050C9C, #3572EF, #3ABEF9, #A7E6FF) 1;" step="0.01" oninput="calcularValorFinal()">
                    </strong>
                </span>
                <span style="margin: 5px 0; display: flex; align-items: center; position: relative; width: 100%; justify-content: space-between; font-size: 16px; color: #007bff;">
                    <strong>VALOR FINAL R$ 
                        <input type="number" id="valorFinal" value="" style="width: 100px; text-align: center; padding: 5px; border-radius: 0; border: 2px solid transparent; background-color: #f0f8ff; font-weight: bold; font-size: 14px; border-image: linear-gradient(to right, #050C9C, #3572EF, #3ABEF9, #A7E6FF) 1;" step="0.01" readonly>
                    </strong>
                    <div>
                        <button id="copyButton" class="btn btn-primary btn-sm" onclick="copyFinalValue()" style="background-color: #007bff; color: white; border-radius: 4px; padding: 6px 12px; font-size: 14px;">
                            <i class="fas fa-copy copy-icon"></i>
                        </button>              
                    </div>
                </span>
            </div> 
            <div class="command-list" id="ChamadoContent"> 
                <br><br><h5 class="font-weight-bold">NEGOCIA√á√ïES</h5><br>
                <div class="command-item"> 
                    <span><strong>FEIJ√ÉO:</strong> MENU > CONFIGURA√á√ÉO > CONFIGURA√á√ÉO DE REDE.</span>
                    <button class="btn btn-primary btn-sm" onclick="copyText('FEIJ√ÉO: MENU > CONFIGURA√á√ÉO > CONFIGURA√á√ÉO DE REDE.')">
                        <i class="fas fa-copy copy-icon"></i>
                    </button>
                </div>
            </div>
    </div>
</div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // Fun√ß√£o para alternar entre as abas
        function showTab(tabName) {
            const allTabs = document.querySelectorAll('.tab-pane');
            const allNavLinks = document.querySelectorAll('.nav-link');

            // Remover a classe 'active' de todas as abas e links
            allTabs.forEach(tab => tab.classList.remove('active'));
            allNavLinks.forEach(link => link.classList.remove('active'));

            // Adiciona a classe 'active' na aba e no link da aba
            document.getElementById(tabName).classList.add('active');
            document.getElementById(`mens_${tabName.toLowerCase()}`).classList.add('active');
        }

        // Recupera a aba ativa do localStorage ao carregar a p√°gina
        window.onload = function() {
            // Tenta pegar a aba ativa do localStorage ou define 'Chamado' como padr√£o
            const activeTab = localStorage.getItem('activeTab') || 'Chamado';
            
            // Chama a fun√ß√£o para mostrar a aba ativa ao carregar
            showTab(activeTab);
        };

        // Fun√ß√£o para recarregar a p√°gina e armazenar a aba ativa
        function reloadPage(tabName) {
            // Salva a aba selecionada no localStorage
            localStorage.setItem('activeTab', tabName);

            // Recarrega a p√°gina
            location.reload();
        } 

        function calcularValorFinal() {
            // Obter os valores dos campos de "valor atual" e "acr√©scimo mensal"
            const valorAtual = parseFloat(document.getElementById('valorAtual').value) || 0;
            const acrescimoMensal = parseFloat(document.getElementById('acrescimoMensal').value) || 0;

            // Calcular o valor final
            const valorFinal = valorAtual + acrescimoMensal;

            // Definir o valor final no campo correspondente
            document.getElementById('valorFinal').value = valorFinal.toFixed(2);
        } 
        function copyFinalValue() {
                const numFuncionarios = document.getElementById('numFuncionarios').value;
                const valorAtual = document.getElementById('valorAtual').value;
                const acrescimoMensal = document.getElementById('acrescimoMensal').value;
                const valorFinal = document.getElementById('valorFinal').value;

                // Cria um texto formatado com quebras de linha
                const textoParaCopiar = `ADICIONAL DE ${numFuncionarios} FUNCION√ÅRIOS\n` +
                                        `VALOR ATUAL R$ ${valorAtual}\n` +
                                        `COM ACR√âSCIMO DE R$ ${acrescimoMensal}\n` +
                                        `VALOR FINAL R$ ${valorFinal}`;

                // Cria um elemento de texto tempor√°rio para copiar o conte√∫do
                const tempInput = document.createElement('textarea');
                document.body.appendChild(tempInput);
                tempInput.value = textoParaCopiar;
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);

                // Obt√©m o bot√£o de c√≥pia e aplica a anima√ß√£o de c√≥pia
                const copyButton = document.getElementById('copyButton');
                copyButton.classList.add('blink');

                // Remove a classe de anima√ß√£o ap√≥s um tempo
                setTimeout(() => {
                    copyButton.classList.remove('blink');
                }, 1800); // A dura√ß√£o de 1800ms √© suficiente para a anima√ß√£o de c√≥pia
        }  
        function formatarMoeda(input) {
        // Remove qualquer caractere que n√£o seja n√∫mero
        let valor = input.value.replace(/\D/g, '');
        
        // Verifica se o valor tem mais de 2 d√≠gitos ap√≥s a v√≠rgula
        if (valor.length > 2) {
            valor = valor.slice(0, -2) + ',' + valor.slice(-2);
        }

        // Se o valor for menor que 2 d√≠gitos, apenas coloca a v√≠rgula
        if (valor.length === 1) {
            valor = '0,' + valor;
        }

        // Coloca a v√≠rgula separando os milhares
        if (valor.length > 6) {
            valor = valor.replace(/(\d)(\d{3})(\d{3})/, '$1.$2.$3');
        }

        // Atualiza o valor do input
        input.value = valor;
    } 
    function reloadPage(tabName) {
    // Salva a aba selecionada no localStorage
    localStorage.setItem('activeTab', tabName);

    // Recarrega a p√°gina
    location.reload();
}

window.onload = function() {
    // Recupera a aba ativa do localStorage ou define 'Chamado' como padr√£o
    const activeTab = localStorage.getItem('activeTab') || 'Chamado';

    // Remove as classes 'active' de todas as abas e links
    const allTabs = document.querySelectorAll('.tab-pane');
    const allNavLinks = document.querySelectorAll('.nav-link');
    allTabs.forEach(tab => tab.classList.remove('active', 'show'));
    allNavLinks.forEach(link => link.classList.remove('active'));

    // Adiciona a classe 'active' na aba e no link da aba ativa
    document.getElementById(activeTab).classList.add('active', 'show');
    document.getElementById(`mens_${activeTab.toLowerCase()}`).classList.add('active');
};
    </script>
</body>
</html>
